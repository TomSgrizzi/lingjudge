<!DOCTYPE html>

{% extends 'base.html' %}
{% block content %}
<div class="max-w-2xl mx-auto py-10 px-4">
  <h2 class="text-3xl font-bold mb-8 text-center text-gray-900">My Tasks</h2>
  <div style="height: 5px;"></div>
  <p class="text-center">Edit, review, and dowload results from your tasks</p>

  <div style="height: 40px;"></div>

  <div class="bg-white rounded-xl shadow-md border border-gray-100 p-6 mb-8">
    <h3 class="text-xl font-semibold mb-4 flex items-center gap-2">📤 Published Tasks</h3>
    {% if published %}
      <ul class="space-y-3">
        {% for task in published %}
          <li class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
            <div>
              <a href="{% url 'task_detail' task.id %}" class="text-blue-600 hover:underline font-semibold text-lg">
                {{ task.title }} <span class="font-normal text-gray-500">({{ task.task_type }})</span>
              </a>
              <span class="ml-2 text-gray-400 text-sm">{{ task.created_at|date:"Y-m-d" }}</span>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-gray-500">No published tasks yet.</p>
    {% endif %}
  </div>
  <div style="height: 20px;"></div>

  <div class="bg-white rounded-xl shadow-md border border-gray-100 p-6">
    <h3 class="text-xl font-semibold mb-4 flex items-center gap-2">📝 Drafts</h3>
    {% if drafts %}
      <ul class="space-y-3">
        {% for task in drafts %}
          <li class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2">
            <div>
              <a href="{% url 'task_edit' task.id %}" class="text-blue-600 hover:underline font-semibold text-lg">
                {{ task.title }} <span class="font-normal text-gray-500">({{ task.task_type }})</span>
              </a>
              <span class="ml-2 text-gray-400 text-sm">{{ task.created_at|date:"Y-m-d" }}</span>
            </div>
          </li>
        {% endfor %}
      </ul>
    {% else %}
      <p class="text-gray-500">No draft tasks yet.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
